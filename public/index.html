<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Scatterize</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="site-header">
  <h1 class="site-title">Scatterize</h1>
  <div class="url-bar">
    <input
      type="text"
      id="data-url"
      class="url-input"
      placeholder="Paste a CSV or Google Sheets URL"
      autocomplete="off"
      spellcheck="false"
    >
    <button id="load-btn" class="btn btn-primary">Load</button>
  </div>
</header>

<main id="app" class="app-grid">

  <aside class="panel panel-controls" id="panel-controls">
    <div class="control-group">
      <label for="x-select">X variable</label>
      <select id="x-select" class="form-select"></select>
    </div>
    <div class="control-group">
      <label for="y-select">Y variable</label>
      <select id="y-select" class="form-select"></select>
    </div>
    <div class="control-group">
      <label for="model-select">Model</label>
      <select id="model-select" class="form-select">
        <option value="ols">OLS</option>
        <option value="robust">Robust</option>
        <option value="spearman">Spearman</option>
        <option value="theilsen">Theil-Sen</option>
      </select>
    </div>
    <div class="control-group" id="nuisance-group">
      <label>Nuisance covariates</label>
      <div id="nuisance-list" class="checkbox-list"></div>
      <p class="control-note" id="nuisance-note" hidden>
        Not available for rank-based models.
      </p>
    </div>
    <div class="control-group">
      <label for="group-select">Group / color</label>
      <select id="group-select" class="form-select">
        <option value="">None</option>
      </select>
    </div>
    <div class="control-group">
      <label for="filter-select">Filter</label>
      <select id="filter-select" class="form-select">
        <option value="">None</option>
      </select>
    </div>
    <div class="control-group control-group--bottom">
      <button id="export-btn" class="btn btn-secondary">Export SVG</button>
    </div>
  </aside>

  <div class="plot-container" id="plot-container">
    <div class="empty-state" id="empty-state">
      <div class="empty-state-inner">
        <p class="empty-title">No data loaded</p>
        <p class="empty-hint">Paste a CSV or Google Sheets URL in the bar above and click Load.</p>
        <p class="empty-hint">Also accepts GitHub file and Gist URLs.</p>
      </div>
    </div>
    <svg id="scatter-svg" class="scatter-svg"></svg>
  </div>

  <aside class="panel panel-stats" id="panel-stats">
    <div id="stats-model" class="stats-section stats-section--model"></div>
    <div id="stats-desc" class="stats-section stats-section--desc"></div>
    <div id="diag-plots" class="diag-plots">
      <p class="diag-title">Diagnostics</p>
      <svg id="diag-hist" class="diag-svg" style="height:80px"></svg>
      <svg id="diag-qq"   class="diag-svg" style="height:80px; margin-top:6px"></svg>
    </div>
  </aside>

</main>

<div class="error-banner" id="error-banner" hidden>
  <span id="error-message"></span>
  <button class="error-close" id="error-close" aria-label="Dismiss">Ã—</button>
</div>

<script src="dist/main.js"></script>
</body>
</html>
